<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.2//EN" "http://java.sun.com/j2ee/dtds/web-app_2_2.dtd">
<web-app>
	<listener>
            <listener-class>gov.sir.core.web.listener.ImpresionSessionListener</listener-class>
        </listener>
        <filter>
            <filter-name>SessionFilter</filter-name>
            <filter-class>gov.sir.core.web.filters.SessionFilter</filter-class>
        </filter>
        <filter-mapping>
            <filter-name>SessionFilter</filter-name>
            <url-pattern>/inicio.view</url-pattern>
            <dispatcher>REQUEST</dispatcher>
        </filter-mapping>
        <!-- Filtro para manejo de logout con CA SiteMinder -->
        <filter>
            <filter-name>SeguridadFilter</filter-name>
            <filter-class>gov.sir.core.web.filters.SeguridadFilter</filter-class>
        </filter>        
        <filter-mapping>
            <filter-name>SeguridadFilter</filter-name>
            <url-pattern>/seguridad.do</url-pattern>
            <dispatcher>REQUEST</dispatcher>
        </filter-mapping>
        <!--filter>
            <filter-name>PantallasAdministrativasFilter</filter-name>
            <filter-class>gov.sir.core.web.filters.PantallasAdministrativasFilter</filter-class>
        </filter>    
        <filter-mapping>
            <filter-name>PantallasAdministrativasFilter</filter-name>
            <url-pattern>/*</url-pattern>            
            <dispatcher>REQUEST</dispatcher>
        </filter-mapping-->        
	<servlet>
		<servlet-name>JanitorServlet</servlet-name>
		<servlet-class>
			org.auriga.smart.web.JanitorServlet
		</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>ViewServlet</servlet-name>
		<servlet-class>
			org.auriga.smart.web.vistas.ViewServlet
		</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>InitServlet</servlet-name>
		<servlet-class>org.auriga.core.web.InitServlet</servlet-class>
		<load-on-startup>5</load-on-startup>
	</servlet>
	<servlet>
		<servlet-name>InitParametrosServlet</servlet-name>
		<servlet-class>
			gov.sir.core.web.InitParametrosServlet
		</servlet-class>
		<load-on-startup>99</load-on-startup>
	</servlet>
	<servlet>
		<servlet-name>PdfServlet</servlet-name>
		<servlet-class>gov.sir.core.web.PdfServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>ZipServlet</servlet-name>
		<servlet-class>gov.sir.core.web.ZipServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>JnlpDownloadServlet</servlet-name>
		<servlet-class>webstartservices.JnlpService</servlet-class>
		<init-param>
			<param-name>parse.querystring</param-name>
			<param-value>true</param-value>
		</init-param>
		<init-param>
			<param-name>parse.initparam</param-name>
			<param-value>true</param-value>
		</init-param>
	</servlet>
	<servlet>
	  <servlet-name>dwr-invoker</servlet-name>
	  <display-name>DWR Servlet</display-name>
	  <servlet-class>org.directwebremoting.servlet.DwrServlet</servlet-class>
	  <init-param>
	     <param-name>debug</param-name>
	     <param-value>true</param-value>
	  </init-param>
	  <init-param>
        <param-name>url:/call/plaincall/</param-name>        
        <param-value>gov.sir.core.web.HttpCachingPlainCallHandler</param-value>
      </init-param>
	</servlet>
    <servlet>
        <servlet-name>AnotacionesFolioXMLHTTPServlet</servlet-name>
        <servlet-class>gov.sir.core.web.AnotacionesFolioXMLHTTPServlet</servlet-class>
    </servlet>
	<servlet-mapping>
	  <servlet-name>dwr-invoker</servlet-name>
	  <url-pattern>/dwr/*</url-pattern>
	</servlet-mapping>
    <servlet>
        <servlet-name>ServletPaginador</servlet-name>
        <servlet-class>com.is21.core.web.paginador.ServletPaginador</servlet-class>
    </servlet>
	<servlet-mapping>
		<servlet-name>JnlpDownloadServlet</servlet-name>
		<url-pattern>*.jnlp</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>JanitorServlet</servlet-name>
		<url-pattern>
			/servlet/org.auriga.smart.web.JanitorServlet
		</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>JanitorServlet</servlet-name>
		<url-pattern>*.do</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>ViewServlet</servlet-name>
		<url-pattern>
			/servlet/org.auriga.smart.vistas.VistasServlet
		</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>ViewServlet</servlet-name>
		<url-pattern>*.view</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>InitServlet</servlet-name>
		<url-pattern>/servlet/InitServlet</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>InitParametrosServlet</servlet-name>
		<url-pattern>/servlet/InitParametrosServlet</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>PdfServlet</servlet-name>
		<url-pattern>/servlet/PdfServlet</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>ZipServlet</servlet-name>
		<url-pattern>/servlet/ZipServlet</url-pattern>
	</servlet-mapping>
    <servlet-mapping>
        <servlet-name>ServletPaginador</servlet-name>
        <url-pattern>/servletpaginador</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>AnotacionesFolioXMLHTTPServlet</servlet-name>
        <url-pattern>/AnotacionesFolioXMLHTTPServlet</url-pattern>
    </servlet-mapping>
	<session-config>
		<session-timeout>20</session-timeout>
	</session-config>
	<mime-mapping>
		<extension>jnlp</extension>
		<mime-type>application/x-java-jnlp-file</mime-type>
	</mime-mapping>
	<welcome-file-list>
		<welcome-file>inicio.view</welcome-file>
		<welcome-file>index.html</welcome-file>
	</welcome-file-list>
	<taglib>
		<taglib-uri>/smartTags</taglib-uri>
		<taglib-location>
			/WEB-INF/tagLibraries/smartTags.tld
		</taglib-location>
	</taglib>
	<taglib>
		<taglib-uri>/sasTags</taglib-uri>
		<taglib-location>
			/WEB-INF/tagLibraries/sasTags.tld
		</taglib-location>
	</taglib>
	<taglib>
		<taglib-uri>/xRegionTemplateTags</taglib-uri>
		<taglib-location>
			/WEB-INF/tagLibraries/xRegionTemplate.tld
		</taglib-location>
	</taglib>
	<taglib>
		<taglib-uri>/is21paginador</taglib-uri>
		<taglib-location>
			/WEB-INF/tagLibraries/is21paginador.tld
		</taglib-location>
	</taglib>

	<!-- Referencias a los Beans -->

	<!-- Procesador de Eventos de Negocio -->
	<!--
		<ejb-local-ref>
		<ejb-ref-name>ejb/ProcesadorEventosNegocioLocal</ejb-ref-name>
		<ejb-ref-type>Session</ejb-ref-type>
		<local-home>gov.sir.ejb.ProcesadorEventosNegocioInterfaceLocalHome</local-home>
		<local>gov.sir.ejb.ProcesadorEventosNegocioInterfaceLocal</local>
		</ejb-local-ref>
	-->

	<!-- Fenrir -->
	<ejb-local-ref>
		<ejb-ref-name>ejb/FenrirServiceEJBLocal</ejb-ref-name>
		<ejb-ref-type>Session</ejb-ref-type>
		<local-home>
			gov.sir.fenrir.ejb.FenrirServiceEJBInterfaceLocalHome
		</local-home>
		<local>gov.sir.fenrir.ejb.FenrirServiceEJBInterfaceLocal</local>
		<!--<ejb-link>FenrirServiceEJBLocal</ejb-link>-->
	</ejb-local-ref>

	<!-- Forseti -->
	<ejb-local-ref>
		<ejb-ref-name>ejb/ForsetiServiceEJBLocal</ejb-ref-name>
		<ejb-ref-type>Session</ejb-ref-type>
		<local-home>
			gov.sir.forseti.ejb.ForsetiServiceEJBInterfaceLocalHome
		</local-home>
		<local>
			gov.sir.forseti.ejb.ForsetiServiceEJBInterfaceLocal
		</local>
		<!--<ejb-link>ForsetiServiceEJBLocal</ejb-link>-->
	</ejb-local-ref>

	<!-- Hermod -->
	<ejb-local-ref>
		<ejb-ref-name>ejb/HermodServiceEJBLocal</ejb-ref-name>
		<ejb-ref-type>Session</ejb-ref-type>
		<local-home>
			gov.sir.hermod.ejb.HermodServiceEJBInterfaceLocalHome
		</local-home>
		<local>gov.sir.hermod.ejb.HermodServiceEJBInterfaceLocal</local>
		<!--<ejb-link>HermodServiceEJBLocal</ejb-link>-->
	</ejb-local-ref>
</web-app>